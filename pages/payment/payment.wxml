<view class="payment-page">
  <!-- 顶部标题栏 -->
  <view class="header">
    <view class="back-icon" bindtap="navigateBack">
      <image src="/images/back_arrow.png" mode="aspectFit"></image>
    </view>
    <text class="title">生活缴费</text>
  </view>
  
  <!-- 使用简单的水平flex布局，带有内联样式标签切换栏 -->
  <view style="display:flex; background:#fff; border-bottom:1rpx solid #eee;">
    <view style="flex:1; text-align:center; padding:20rpx 0; font-size:30rpx; {{activeTab==0 ? 'color:#1989fa;font-weight:bold;position:relative;' : 'color:#666;'}}" bindtap="switchTab" data-index="0">
      待缴费
      <view wx:if="{{activeTab==0}}" style="position:absolute; bottom:-1rpx; left:50%; transform:translateX(-50%); width:60rpx; height:4rpx; background:#1989fa; border-radius:2rpx;"></view>
    </view>
    <view style="flex:1; text-align:center; padding:20rpx 0; font-size:30rpx; {{activeTab==1 ? 'color:#1989fa;font-weight:bold;position:relative;' : 'color:#666;'}}" bindtap="switchTab" data-index="1">
      已缴费
      <view wx:if="{{activeTab==1}}" style="position:absolute; bottom:-1rpx; left:50%; transform:translateX(-50%); width:60rpx; height:4rpx; background:#1989fa; border-radius:2rpx;"></view>
    </view>
  </view>
  
  <!-- 账单列表 -->
  <view class="bill-list">
    <block wx:if="{{bills.length > 0}}">
      <view wx:for="{{bills}}" wx:key="id" class="bill-item">
        <!-- 账单项头部 -->
        <view class="bill-header">
          <view class="bill-no">单号: {{item.billNo}}</view>
          <view class="bill-type">{{item.billType}}</view>
        </view>
        
        <!-- 账单详情 -->
        <view class="bill-detail">费用明细: {{item.detail}}</view>
        <view class="bill-period">本次计费周期: {{item.period}}</view>
        
        <!-- 账单底部 -->
        <view class="bill-footer">
          <view class="bill-amount">
            <text class="bill-amount-label">应缴金额: </text><text class="bill-amount-value">{{item.amount}} 元</text>
          </view>
          <view class="pay-button" bindtap="payBill" data-id="{{item.id}}">缴费</view>
        </view>
      </view>
    </block>
    
    <!-- 无账单显示 -->
    <view wx:else class="empty-state">
      <image class="empty-icon" src="/images/empty.png" mode="aspectFit"></image>
      <text class="empty-text">暂无消息</text>
    </view>
  </view>
</view> 