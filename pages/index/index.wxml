<!--index.wxml-->
<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">
    <!-- 在页面最顶部添加这段代码 -->
    <view class="community-guide" wx:if="{{showCommunityGuide}}">
      <view class="guide-content">
        <image class="guide-image" src="/images/community_select.png" mode="aspectFit"></image>
        <view class="guide-text">
          <text class="guide-title">你好~</text>
          <text class="guide-subtitle">请选择你的小区</text>
        </view>
        <button class="guide-button" bindtap="goToCommunitySelect">选择小区</button>
      </view>
    </view>

    <!-- 首页内容 -->
    <view class="page-content" wx:if="{{currentTab === 0}}">
      <!-- 顶部区域 -->
      <view class="header">
        <!-- 背景图片 -->
        <image class="header-bg" src="/images/header_bg.png" mode="aspectFill"></image>
        
        <view class="status-bar"></view>
        
        <!-- 左上角通知 -->
        <view class="notification">
          <image class="notification-icon" src="/images/notification.png"></image>
          <text class="notification-text">您有一条新的消息提醒...</text>
        </view>
        
        <!-- 标题 -->
        <view class="welcome-title">e家畅行</view>
        
        <!-- 地址信息 - 添加点击事件 -->
        <view class="address-bar" bindtap="navigateToCommunitySelect">
          <image class="address-icon" src="/images/location.png"></image>
          <text class="address-text">{{address}}</text>
        </view>
        
  
        <!-- 背景大E -->
        <view class="background-e">e</view>
      </view>
      
      <!-- 功能区域 -->
      <view class="function-area">
        <view class="function-list">
          <!-- 遍历 functions 数组来渲染功能按钮 -->
          <view class="function-item" wx:for="{{functions}}" wx:key="id" bindtap="tapFunction" data-function="{{item}}">
            <view class="function-icon" style="background-color: {{item.color}};">
              <image src="{{item.icon}}"></image>
            </view>
            <text class="function-name">{{item.name}}</text>
          </view>
        </view>
      </view>
      
      <!-- 通知区域 -->
      <view class="notice-area">
        <image class="notice-bg" src="/images/notice_bg.png" mode="aspectFill"></image>
        <view class="notice-item">
          <view class="notice-left">
            <image class="notice-icon" src="/images/notice_blue.png"></image>
            <text class="notice-title">物业通知:</text>
            <text class="notice-content">信息信息信息信息信息......</text>
          </view>
          <text class="notice-date">YYYY.MM.DD</text>
        </view>
      </view>
      
      <!-- 主页内容区域 -->
      <view class="main-content">
        <view class="content-box"></view>
      </view>

    </view>




    
    <!-- 占位，确保内容不被底部导航遮挡 -->
    <view class="placeholder"></view>
  </view>
</scroll-view>


